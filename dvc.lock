schema: '2.0'
stages:
  extract_dataset:
    cmd: mkdir -p dataset && cd dataset && unzip ../vk-publics-classification.zip
    deps:
    - path: vk-publics-classification.zip
      md5: a4f6aee4063aebcc4a45641f0ceb1936
      size: 4146563
    outs:
    - path: dataset
      md5: 15bafb84941719557a0e37df093a76df.dir
      size: 14344754
      nfiles: 4
  prepare_data:
    cmd: mkdir -p generated_data && python prepare_data.py --input dataset/train.csv
      --output generated_data/train.csv
    deps:
    - path: dataset
      md5: 15bafb84941719557a0e37df093a76df.dir
      size: 14344754
      nfiles: 4
    outs:
    - path: generated_data/train.csv
      md5: e007373d64cfc48115a926705e431e2d
      size: 12111718
  train_val_split:
    cmd: python train_val_split.py --input generated_data/train.csv --output_folder
      generated_data/train_val
    deps:
    - path: generated_data/train.csv
      md5: e007373d64cfc48115a926705e431e2d
      size: 12111718
    params:
      params.yaml:
        split.seed: 48
        split.test_size: 0.25
    outs:
    - path: generated_data/train_val
      md5: c9af14cc85f916c1934c51164601d656.dir
      size: 12111730
      nfiles: 2
